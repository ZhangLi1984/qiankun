(function(){"use strict";var n={128:function(n,e,t){var a=t(751),r=t(641);const o={id:"app"};function l(n,e,t,a,l,i){const u=(0,r.g2)("UserInfoForm");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(u)])}var i=t(33),u=t(953),s=t(353),c=t.n(s);const v={key:0,class:"result-display"},d={class:"result-content"},p={class:"user-info"},f={class:"analysis-result"},m=["innerHTML"],b={key:1,class:"loading"};var k={__name:"ResultDisplay",props:{result:{type:String,default:""},userInfo:{type:Object,required:!0}},emits:["back"],setup(n){const e=n,t=(n,e)=>n&&e?c()(`${n} ${e}`).format("YYYY年MM月DD日 HH:mm"):"",a=(0,r.EW)((()=>e.result?e.result.replace(/\n/g,"<br>"):""));return(e,o)=>n.result?((0,r.uX)(),(0,r.CE)("div",v,[o[5]||(o[5]=(0,r.Lk)("h2",null,"八字命理分析结果",-1)),(0,r.Lk)("div",d,[(0,r.Lk)("div",p,[o[4]||(o[4]=(0,r.Lk)("h3",null,"基本信息",-1)),(0,r.Lk)("p",null,[o[1]||(o[1]=(0,r.Lk)("strong",null,"姓名：",-1)),(0,r.eW)((0,i.v_)(n.userInfo.name),1)]),(0,r.Lk)("p",null,[o[2]||(o[2]=(0,r.Lk)("strong",null,"出生：",-1)),(0,r.eW)((0,i.v_)(t(n.userInfo.birthDate,n.userInfo.birthTime)),1)]),(0,r.Lk)("p",null,[o[3]||(o[3]=(0,r.Lk)("strong",null,"出生地：",-1)),(0,r.eW)((0,i.v_)(n.userInfo.birthCity),1)])]),(0,r.Lk)("div",f,[(0,r.Lk)("div",{innerHTML:a.value},null,8,m)]),(0,r.Lk)("button",{class:"back-btn",onClick:o[0]||(o[0]=n=>e.$emit("back"))},"返回修改")])])):((0,r.uX)(),(0,r.CE)("div",b,o[6]||(o[6]=[(0,r.Lk)("div",{class:"loading-spinner"},null,-1),(0,r.Lk)("p",null,"正在分析命理，请稍候...",-1)])))}},h=t(262);const L=(0,h.A)(k,[["__scopeId","data-v-98521b56"]]);var y=L;const g={key:0,class:"user-info-form"},w={class:"form-group"},C={class:"form-group"},_={class:"radio-group"},O={class:"radio-label"},D={class:"radio-label"},S={class:"form-group"},T=["max"],j={class:"form-group"},E={class:"form-group"},x={class:"form-group"},I=["disabled"],U={key:0,class:"error-message"};var $={__name:"UserInfoForm",setup(n){const e=(0,u.KR)({name:"",gender:"",birthDate:"",birthTime:"",birthCity:"",maritalStatus:""}),t=(0,u.KR)(!1),o=(0,u.KR)(""),l=(0,u.KR)(!1),s=(0,u.KR)(""),v=(0,r.EW)((()=>c()().format("YYYY-MM-DD"))),d=async()=>{try{t.value=!0,o.value="";const n={model:"gpt-4o-mini",messages:[{role:"system",content:'你是一位精通中国传统命理的顶尖大师，具备以下专业素养：\n\n1. 命理理论基础：\n- 精通八字排盘、奇门遁甲、紫微斗数、六爻等传统命理体系\n- 深入研究《穷通宝典》《三命通会》《滴天髓》《渊海子平》等经典著作\n- 掌握子平术、星宗推演、十神定位和五行生克制化的核心理论\n\n2. 专业分析能力：\n- 能准确解读八字命盘中的天干地支关系\n- 精通日主强弱判断、格局分析、用神取用\n- 擅长分析命主先天禀赋、性格特征和人生规律\n- 能结合大运流年进行准确的运势预测\n\n3. 个性化分析方法：\n- 根据用户年龄特征（18岁、30岁、40岁、60岁）提供定制化建议\n- 结合现代职业发展特点进行事业指导\n- 针对不同婚姻状况提供感情分析和建议\n- 融合传统养生理论提供健康指导\n\n4. 分析原则：\n- 遵循"趋吉避凶"的原则，引导命主扬长避短\n- 保持客观中立，不做过分夸大或诱导性判断\n- 注重实用性建议，帮助命主趋利避害\n- 分析内容应包含事业、财运、姻缘、健康等各个方面\n\n5. 输出要求：\n- 分析结果应条理清晰，层次分明\n- 使用现代易懂的语言表达专业内容\n- 建议要具体可行，避免空泛建议\n- 对关键问题要有明确的指导意见\n\n6. 特殊分析维度：\n- 2025年乙巳年运势分析\n- 流年吉凶预测\n- 每月运势变化\n- 重大事项选择建议\n\n请基于以上专业素养，为用户提供全面、准确、实用的命理分析。'},{role:"user",content:`请根据以下信息进行八字命理分析：\n姓名：${e.value.name}\n性别：${"male"===e.value.gender?"男":"女"}\n出生日期时间：${e.value.birthDate} ${e.value.birthTime}\n出生地点：${e.value.birthCity}\n婚姻状况：${{single:"未婚",married:"已婚",divorced:"离异",widowed:"丧偶"}[e.value.maritalStatus]}\n\n请提供详细的八字命理分析，包括：\n\n1. 八字命盘分析：\n- 年月日时八字排盘\n- 十神配置分析\n- 五行强弱分析\n- 日主特征解读\n\n2. 性格特征分析：\n- 先天性格倾向\n- 为人处世特点\n- 潜在优势\n- 需要注意的缺点\n\n3. 事业发展分析：\n- 适合的职业方向\n- 事业发展建议\n- 2025年事业机遇点\n- 需要避免的事业陷阱\n\n4. 财运分析：\n- 财运特点\n- 理财建议\n- 2025年财运高峰期\n- 破财风险提醒\n\n5. 感情婚姻分析：\n- 感情特质\n- 桃花运势\n- 婚姻建议\n- 2025年感情运势\n\n6. 健康分析：\n- 易出现的健康问题\n- 养生保健建议\n- 2025年健康注意事项\n- 饮食起居建议\n\n7. 2025年运势：\n- 流年吉凶\n- 每月运势变化\n- 重大事项选择建议\n- 开运化解方法`}]},a=await fetch("https://api.kksj.org/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer sk-ybt88aCSRjgQ7CG3So1enrNvrRv8JnvJ4fwyW1H0135lxS06"},body:JSON.stringify(n)});if(!a.ok)throw new Error("网络请求失败，请稍后重试");const r=await a.json();if(!(r.choices&&r.choices[0]&&r.choices[0].message))throw new Error("解析结果格式错误");s.value=r.choices[0].message.content,l.value=!0}catch(n){o.value=n.message||"分析失败，请稍后重试"}finally{t.value=!1}};return(n,u)=>l.value?((0,r.uX)(),(0,r.Wv)(y,{key:1,result:s.value,"user-info":e.value,onBack:u[7]||(u[7]=n=>l.value=!1)},null,8,["result","user-info"])):((0,r.uX)(),(0,r.CE)("div",g,[u[17]||(u[17]=(0,r.Lk)("h2",null,"八字命理分析",-1)),(0,r.Lk)("form",{onSubmit:(0,a.D$)(d,["prevent"]),class:"form-container"},[(0,r.Lk)("div",w,[u[8]||(u[8]=(0,r.Lk)("label",{for:"name"},"姓名",-1)),(0,r.bo)((0,r.Lk)("input",{id:"name","onUpdate:modelValue":u[0]||(u[0]=n=>e.value.name=n),type:"text",required:"",placeholder:"请输入您的姓名"},null,512),[[a.Jo,e.value.name]])]),(0,r.Lk)("div",C,[u[11]||(u[11]=(0,r.Lk)("label",null,"性别",-1)),(0,r.Lk)("div",_,[(0,r.Lk)("label",O,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":u[1]||(u[1]=n=>e.value.gender=n),value:"male",required:""},null,512),[[a.XL,e.value.gender]]),u[9]||(u[9]=(0,r.eW)(" 男 "))]),(0,r.Lk)("label",D,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":u[2]||(u[2]=n=>e.value.gender=n),value:"female"},null,512),[[a.XL,e.value.gender]]),u[10]||(u[10]=(0,r.eW)(" 女 "))])])]),(0,r.Lk)("div",S,[u[12]||(u[12]=(0,r.Lk)("label",{for:"birthDate"},"出生日期",-1)),(0,r.bo)((0,r.Lk)("input",{id:"birthDate","onUpdate:modelValue":u[3]||(u[3]=n=>e.value.birthDate=n),type:"date",required:"",max:v.value},null,8,T),[[a.Jo,e.value.birthDate]])]),(0,r.Lk)("div",j,[u[13]||(u[13]=(0,r.Lk)("label",{for:"birthTime"},"出生时间",-1)),(0,r.bo)((0,r.Lk)("input",{id:"birthTime","onUpdate:modelValue":u[4]||(u[4]=n=>e.value.birthTime=n),type:"time",required:"",step:"60"},null,512),[[a.Jo,e.value.birthTime]])]),(0,r.Lk)("div",E,[u[14]||(u[14]=(0,r.Lk)("label",{for:"birthCity"},"出生城市",-1)),(0,r.bo)((0,r.Lk)("input",{id:"birthCity","onUpdate:modelValue":u[5]||(u[5]=n=>e.value.birthCity=n),type:"text",required:"",placeholder:"请输入出生城市"},null,512),[[a.Jo,e.value.birthCity]])]),(0,r.Lk)("div",x,[u[16]||(u[16]=(0,r.Lk)("label",{for:"maritalStatus"},"婚姻状况",-1)),(0,r.bo)((0,r.Lk)("select",{id:"maritalStatus","onUpdate:modelValue":u[6]||(u[6]=n=>e.value.maritalStatus=n),required:""},u[15]||(u[15]=[(0,r.Fv)('<option value="" data-v-22810cc8>请选择</option><option value="single" data-v-22810cc8>未婚</option><option value="married" data-v-22810cc8>已婚</option><option value="divorced" data-v-22810cc8>离异</option><option value="widowed" data-v-22810cc8>丧偶</option>',5)]),512),[[a.u1,e.value.maritalStatus]])]),(0,r.Lk)("button",{type:"submit",class:"submit-btn",disabled:t.value},(0,i.v_)(t.value?"分析中...":"开始分析"),9,I),o.value?((0,r.uX)(),(0,r.CE)("div",U,(0,i.v_)(o.value),1)):(0,r.Q3)("",!0)],32)]))}};const q=(0,h.A)($,[["__scopeId","data-v-22810cc8"]]);var W=q,R={name:"App",components:{UserInfoForm:W}};const X=(0,h.A)(R,[["render",l]]);var Y=X;(0,a.Ef)(Y).mount("#app")}},e={};function t(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={exports:{}};return n[a].call(o.exports,o,o.exports,t),o.exports}t.m=n,function(){var n=[];t.O=function(e,a,r,o){if(!a){var l=1/0;for(c=0;c<n.length;c++){a=n[c][0],r=n[c][1],o=n[c][2];for(var i=!0,u=0;u<a.length;u++)(!1&o||l>=o)&&Object.keys(t.O).every((function(n){return t.O[n](a[u])}))?a.splice(u--,1):(i=!1,o<l&&(l=o));if(i){n.splice(c--,1);var s=r();void 0!==s&&(e=s)}}return e}o=o||0;for(var c=n.length;c>0&&n[c-1][2]>o;c--)n[c]=n[c-1];n[c]=[a,r,o]}}(),function(){t.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(e,{a:e}),e}}(),function(){t.d=function(n,e){for(var a in e)t.o(e,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:e[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={524:0};t.O.j=function(e){return 0===n[e]};var e=function(e,a){var r,o,l=a[0],i=a[1],u=a[2],s=0;if(l.some((function(e){return 0!==n[e]}))){for(r in i)t.o(i,r)&&(t.m[r]=i[r]);if(u)var c=u(t)}for(e&&e(a);s<l.length;s++)o=l[s],t.o(n,o)&&n[o]&&n[o][0](),n[o]=0;return t.O(c)},a=self["webpackChunkqiankun"]=self["webpackChunkqiankun"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],(function(){return t(128)}));a=t.O(a)})();
//# sourceMappingURL=app.3a78e70e.js.map