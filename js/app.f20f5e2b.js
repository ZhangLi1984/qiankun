(function(){"use strict";var e={7836:function(e,n,a){var l=a(3751),s=a(641);const t={id:"app"},o={class:"app-container"};function i(e,n,a,l,i,r){const u=(0,s.g2)("UserInfoForm");return(0,s.uX)(),(0,s.CE)("div",t,[(0,s.Lk)("div",o,[n[0]||(n[0]=(0,s.Fv)('<div class="logo-container"><div class="logo-circle"><div class="chinese-symbol">命</div></div><h1 class="app-title">八字命理</h1><div class="subtitle">探索人生 • 把握机遇 • 趋吉避凶</div></div>',1)),(0,s.bF)(u)]),n[1]||(n[1]=(0,s.Lk)("div",{class:"decoration-left"},null,-1)),n[2]||(n[2]=(0,s.Lk)("div",{class:"decoration-right"},null,-1))])}a(4114);var r=a(33),u=a(953),c=a(4353),v=a.n(c);a(8111),a(2489),a(1701);const d={class:"result-display"},p={class:"result-card"},f={class:"result-header"},k={class:"user-info"},b={class:"info-grid"},m={class:"info-item"},L={class:"info-value"},h={class:"info-item"},y={class:"info-value"},g={class:"info-item"},C={class:"info-value"},_={class:"info-item"},I={class:"info-value"},w={class:"info-item"},E={class:"info-value"},$={class:"info-item"},S={class:"info-value"},X={key:0,class:"analysis-result"},K={key:1,class:"analysis-result"},R={key:0,class:"error-message"},D={class:"section-title"},O=["innerHTML"];var W={__name:"ResultDisplay",props:{userInfo:{type:Object,required:!0}},setup(e){const n=e,a=(0,u.KR)(!0),l=(0,u.KR)(""),t=(0,u.KR)([]),o=e=>e?v()(e).format("YYYY年MM月DD日"):"",i=e=>{const n={single:"未婚",married:"已婚",divorced:"离异",widowed:"丧偶"};return n[e]||e},c=e=>{const n=e.split("###").filter(Boolean);return n.map((e=>{const[n,...a]=e.trim().split("\n");return{title:n.trim(),content:a.join("\n").replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- (.*)/g,"• $1")}}))},W=async()=>{try{const e=await fetch("https://api.kksj.org/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer sk-ybt88aCSRjgQ7CG3So1enrNvrRv8JnvJ4fwyW1H0135lxS06"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:'您是一位精通中国传统命理的顶尖大师，具备以下专业素养：\n\n1. 命理理论基础：\n   - 精通八字排盘、奇门遁甲、紫微斗数、六爻等传统命理体系\n   - 深入研究《穷通宝典》《三命通会》《滴天髓》《渊海子平》等经典著作\n   - 掌握子平术、星宗推演、十神定位和五行生克制化的核心理论\n\n2. 专业分析能力：\n   - 能准确解读八字命盘中的天干地支关系\n   - 精通日主强弱判断、格局分析、用神取用\n   - 擅长分析命主先天禀赋、性格特征和人生规律\n   - 能结合大运流年进行准确的运势预测\n\n3. 个性化分析方法：\n   - 根据用户年龄特征（18岁：求学与初恋；30岁：婚姻与家庭；40岁：事业与转型；60岁：健康与养老）提供定制化建议\n   - 结合现代职业发展特点进行事业指导\n   - 针对不同婚姻状况提供感情分析和建议\n   - 融合传统养生理论提供健康指导\n\n4. 分析原则：\n   - 遵循"趋吉避凶"的原则，引导命主扬长避短\n   - 保持客观中立，不做过分夸大或诱导性判断\n   - 注重实用性建议，帮助命主趋利避害\n   - 分析内容应包含事业、财运、姻缘、健康等各个方面\n\n5. 2025乙巳年专项分析：\n   - 分析流年干支与命局、大运之间的相互作用\n   - 考量官杀星、印星及太岁方位\n   - 解析夫妻宫、桃花星、红鸾天喜联动\n   - 评估婚配匹配度\n   - 检查五行偏枯、体质倾向及流年病符\n   - 提供节气养生建议\n\n当前年份为2025年，请基于以下用户信息进行专业的八字命理分析。'},{role:"user",content:`请对以下用户进行八字命理分析：\n姓名：${n.userInfo.name}\n性别：${"male"===n.userInfo.gender?"男":"女"}\n出生日期：${o(n.userInfo.birthDate)}\n出生时辰：${n.userInfo.birthTime}\n出生城市：${n.userInfo.birthCity}\n婚姻状况：${i(n.userInfo.maritalStatus)}\n\n请按照以下格式输出分析结果：\n\n### 八字命盘\n- 四柱排列（年月日时）\n- 空亡标注\n- 神煞分布\n- 五行生克关系\n\n### 核心命局\n- 日主强弱分析\n- 调候用神定位\n- 格局层次判定\n- 先天性格特征\n\n### 2025乙巳年运势\n- 流年干支作用\n- 事业财运分析\n  • 官杀星动向\n  • 财星变化\n  • 事业机遇点\n- 感情健康预测\n  • 桃花星动向\n  • 健康隐患提示\n  • 人际关系变化\n\n### 大运流年\n- 当前大运分析\n- 流年吉凶预测\n- 每月运势变化\n- 重大事项选择建议\n\n### 开运建议\n- 五行调节方案\n- 趋吉避凶指导\n- 事业发展建议\n- 健康养生要点\n- 佩饰选择建议（基于五行）\n\n注意：请结合用户的年龄特征（18岁、30岁、40岁、60岁），重点关注相应人生阶段的关键问题。分析要客观专业，建议要具体可行。`}]})});if(!e.ok)throw new Error("网络请求失败");const a=await e.json(),l=a.choices[0].message.content;t.value=c(l)}catch(e){l.value="分析结果获取失败，请稍后重试",console.error("Analysis error:",e)}finally{a.value=!1}};return(0,s.sV)((()=>{W()})),(n,u)=>((0,s.uX)(),(0,s.CE)("div",d,[(0,s.Lk)("div",p,[(0,s.Lk)("div",f,[u[2]||(u[2]=(0,s.Lk)("h2",{class:"result-title"},"命理分析结果",-1)),(0,s.Lk)("button",{class:"back-btn",onClick:u[0]||(u[0]=e=>n.$emit("back"))},u[1]||(u[1]=[(0,s.Lk)("span",{class:"back-icon"},"⬅️",-1),(0,s.eW)(" 返回修改 ")]))]),(0,s.Lk)("div",k,[u[9]||(u[9]=(0,s.Lk)("h3",null,"基本信息",-1)),(0,s.Lk)("div",b,[(0,s.Lk)("div",m,[u[3]||(u[3]=(0,s.Lk)("span",{class:"info-label"},"姓名：",-1)),(0,s.Lk)("span",L,(0,r.v_)(e.userInfo.name),1)]),(0,s.Lk)("div",h,[u[4]||(u[4]=(0,s.Lk)("span",{class:"info-label"},"性别：",-1)),(0,s.Lk)("span",y,(0,r.v_)("male"===e.userInfo.gender?"男":"女"),1)]),(0,s.Lk)("div",g,[u[5]||(u[5]=(0,s.Lk)("span",{class:"info-label"},"出生日期：",-1)),(0,s.Lk)("span",C,(0,r.v_)(o(e.userInfo.birthDate)),1)]),(0,s.Lk)("div",_,[u[6]||(u[6]=(0,s.Lk)("span",{class:"info-label"},"出生时辰：",-1)),(0,s.Lk)("span",I,(0,r.v_)(e.userInfo.birthTime),1)]),(0,s.Lk)("div",w,[u[7]||(u[7]=(0,s.Lk)("span",{class:"info-label"},"出生地点：",-1)),(0,s.Lk)("span",E,(0,r.v_)(e.userInfo.birthCity),1)]),(0,s.Lk)("div",$,[u[8]||(u[8]=(0,s.Lk)("span",{class:"info-label"},"婚姻状况：",-1)),(0,s.Lk)("span",S,(0,r.v_)(i(e.userInfo.maritalStatus)),1)])])]),a.value?((0,s.uX)(),(0,s.CE)("div",X,u[10]||(u[10]=[(0,s.Lk)("div",{class:"loading-spinner"},[(0,s.Lk)("span",{class:"spinner-icon"},"🔮"),(0,s.Lk)("span",{class:"loading-text"},"正在进行八字命理分析...")],-1)]))):((0,s.uX)(),(0,s.CE)("div",K,[l.value?((0,s.uX)(),(0,s.CE)("div",R,[u[11]||(u[11]=(0,s.Lk)("span",{class:"error-icon"},"⚠️",-1)),(0,s.eW)(" "+(0,r.v_)(l.value),1)])):((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(t.value,((e,n)=>((0,s.uX)(),(0,s.CE)("div",{class:"result-section",key:n},[(0,s.Lk)("h3",D,(0,r.v_)(e.title),1),(0,s.Lk)("div",{class:"section-content",innerHTML:e.content},null,8,O)])))),128))]))])]))}},x=a(6262);const j=(0,x.A)(W,[["__scopeId","data-v-2adb7e24"]]);var F=j;const T={key:0,class:"user-info-form"},U={class:"form-card"},q={class:"form-group"},V={class:"form-group"},Y={class:"radio-group"},M={class:"radio-label"},A={class:"radio-label"},J={class:"form-group"},P={class:"date-selector"},B=["value"],H=["value"],N=["value"],Q={class:"form-group"},z={class:"time-selector"},G=["onClick"],Z={class:"form-group"},ee={class:"form-group"},ne=["disabled"],ae={class:"btn-icon"},le={key:0,class:"error-message"};var se={__name:"UserInfoForm",setup(e){const n=(0,u.KR)({name:"",gender:"",birthDate:"",birthTime:"",birthCity:"",maritalStatus:""}),a=(0,u.KR)(!1),t=(0,u.KR)(""),o=(0,u.KR)(!1),i=(0,u.KR)(""),c=(0,u.KR)(""),d=(0,u.KR)("1980"),p=(0,u.KR)(""),f=(0,u.KR)(""),k=(0,s.EW)((()=>{const e=[],n=1980,a=30,l=n-a,s=n+a;for(let t=l;t<=s;t++)e.push({value:t,label:`${t}年`});return e})),b=(0,s.EW)((()=>{if(!d.value||!p.value)return 31;const e=new Date(d.value,p.value,0);return e.getDate()})),m=()=>{if(d.value&&p.value&&f.value){const e=String(p.value).padStart(2,"0"),a=String(f.value).padStart(2,"0");n.value.birthDate=`${d.value}-${e}-${a}`}else n.value.birthDate=""},L=["子时 (23:00-1:00)","丑时 (1:00-3:00)","寅时 (3:00-5:00)","卯时 (5:00-7:00)","辰时 (7:00-9:00)","巳时 (9:00-11:00)","午时 (11:00-13:00)","未时 (13:00-15:00)","申时 (15:00-17:00)","酉时 (17:00-19:00)","戌时 (19:00-21:00)","亥时 (21:00-23:00)"],h=e=>{c.value=e;const a=e.match(/\d{1,2}(?=:00)/)[0];n.value.birthTime=`${a.padStart(2,"0")}:00`},y=e=>e?v()(e).format("YYYY年MM月DD日"):"",g=async()=>{try{if(!c.value)return void(t.value="请选择出生时辰");a.value=!0,t.value="",await new Promise((e=>setTimeout(e,2e3))),i.value=`尊敬的${n.value.name}，您的八字命理分析结果已生成...\n出生日期：${y(n.value.birthDate)}\n出生时辰：${c.value}\n出生城市：${n.value.birthCity}`,o.value=!0}catch(e){t.value="分析过程出现错误，请稍后重试"}finally{a.value=!1}};return(e,u)=>o.value?((0,s.uX)(),(0,s.Wv)(F,{key:1,result:i.value,"user-info":n.value,onBack:u[8]||(u[8]=e=>o.value=!1)},null,8,["result","user-info"])):((0,s.uX)(),(0,s.CE)("div",T,[(0,s.Lk)("div",U,[u[22]||(u[22]=(0,s.Lk)("h2",{class:"form-title"},"八字命理分析",-1)),(0,s.Lk)("form",{onSubmit:(0,l.D$)(g,["prevent"]),class:"form-container"},[(0,s.Lk)("div",q,[u[9]||(u[9]=(0,s.Lk)("label",{for:"name",class:"label"},[(0,s.Lk)("span",{class:"label-icon"},"👤"),(0,s.eW)(" 姓名 ")],-1)),(0,s.bo)((0,s.Lk)("input",{id:"name","onUpdate:modelValue":u[0]||(u[0]=e=>n.value.name=e),type:"text",required:"",placeholder:"请输入您的姓名",class:"input"},null,512),[[l.Jo,n.value.name]])]),(0,s.Lk)("div",V,[u[12]||(u[12]=(0,s.Lk)("label",{class:"label"},[(0,s.Lk)("span",{class:"label-icon"},"⚤"),(0,s.eW)(" 性别 ")],-1)),(0,s.Lk)("div",Y,[(0,s.Lk)("label",M,[(0,s.bo)((0,s.Lk)("input",{type:"radio","onUpdate:modelValue":u[1]||(u[1]=e=>n.value.gender=e),value:"male",required:""},null,512),[[l.XL,n.value.gender]]),u[10]||(u[10]=(0,s.Lk)("span",{class:"radio-text"},"男",-1))]),(0,s.Lk)("label",A,[(0,s.bo)((0,s.Lk)("input",{type:"radio","onUpdate:modelValue":u[2]||(u[2]=e=>n.value.gender=e),value:"female"},null,512),[[l.XL,n.value.gender]]),u[11]||(u[11]=(0,s.Lk)("span",{class:"radio-text"},"女",-1))])])]),(0,s.Lk)("div",J,[u[16]||(u[16]=(0,s.Lk)("label",{class:"label"},[(0,s.Lk)("span",{class:"label-icon"},"📅"),(0,s.eW)(" 出生日期 "),(0,s.Lk)("span",{class:"helper-text"},"请选择您的出生年月日")],-1)),(0,s.Lk)("div",P,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":u[3]||(u[3]=e=>d.value=e),class:"date-select year-select",required:"",onChange:m},[u[13]||(u[13]=(0,s.Lk)("option",{value:""},"请选择年份",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(k.value,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.value,value:e.value},(0,r.v_)(e.label),9,B)))),128))],544),[[l.u1,d.value]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":u[4]||(u[4]=e=>p.value=e),class:"date-select month-select",required:"",onChange:m},[u[14]||(u[14]=(0,s.Lk)("option",{value:""},"月份",-1)),((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(12,(e=>(0,s.Lk)("option",{key:e,value:e},(0,r.v_)(e)+"月 ",9,H))),64))],544),[[l.u1,p.value]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":u[5]||(u[5]=e=>f.value=e),class:"date-select day-select",required:"",onChange:m},[u[15]||(u[15]=(0,s.Lk)("option",{value:""},"日期",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(b.value,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,r.v_)(e)+"日 ",9,N)))),128))],544),[[l.u1,f.value]])])]),(0,s.Lk)("div",Q,[u[17]||(u[17]=(0,s.Lk)("label",{class:"label"},[(0,s.Lk)("span",{class:"label-icon"},"🕐"),(0,s.eW)(" 出生时辰 "),(0,s.Lk)("span",{class:"helper-text"},"请选择您的出生时辰")],-1)),(0,s.Lk)("div",z,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(L,(e=>(0,s.Lk)("button",{type:"button",key:e,onClick:n=>h(e),class:(0,r.C4)([{selected:e===c.value},"time-btn"])},(0,r.v_)(e),11,G))),64))])]),(0,s.Lk)("div",Z,[u[18]||(u[18]=(0,s.Lk)("label",{for:"birthCity",class:"label"},[(0,s.Lk)("span",{class:"label-icon"},"🏙️"),(0,s.eW)(" 出生城市 ")],-1)),(0,s.bo)((0,s.Lk)("input",{id:"birthCity","onUpdate:modelValue":u[6]||(u[6]=e=>n.value.birthCity=e),type:"text",required:"",placeholder:"请输入出生城市",class:"input"},null,512),[[l.Jo,n.value.birthCity]])]),(0,s.Lk)("div",ee,[u[20]||(u[20]=(0,s.Lk)("label",{for:"maritalStatus",class:"label"},[(0,s.Lk)("span",{class:"label-icon"},"💑"),(0,s.eW)(" 婚姻状况 ")],-1)),(0,s.bo)((0,s.Lk)("select",{id:"maritalStatus","onUpdate:modelValue":u[7]||(u[7]=e=>n.value.maritalStatus=e),required:"",class:"input"},u[19]||(u[19]=[(0,s.Fv)('<option value="" data-v-dd1b9608>请选择</option><option value="single" data-v-dd1b9608>未婚</option><option value="married" data-v-dd1b9608>已婚</option><option value="divorced" data-v-dd1b9608>离异</option><option value="widowed" data-v-dd1b9608>丧偶</option>',5)]),512),[[l.u1,n.value.maritalStatus]])]),(0,s.Lk)("button",{type:"submit",class:"submit-btn",disabled:a.value},[(0,s.Lk)("span",ae,(0,r.v_)(a.value?"🔮":"✨"),1),(0,s.eW)(" "+(0,r.v_)(a.value?"命理分析中...":"开始分析"),1)],8,ne),t.value?((0,s.uX)(),(0,s.CE)("div",le,[u[21]||(u[21]=(0,s.Lk)("span",{class:"error-icon"},"⚠️",-1)),(0,s.eW)(" "+(0,r.v_)(t.value),1)])):(0,s.Q3)("",!0)],32)])]))}};const te=(0,x.A)(se,[["__scopeId","data-v-dd1b9608"]]);var oe=te,ie={name:"App",components:{UserInfoForm:oe}};const re=(0,x.A)(ie,[["render",i]]);var ue=re;(0,l.Ef)(ue).mount("#app")}},n={};function a(l){var s=n[l];if(void 0!==s)return s.exports;var t=n[l]={exports:{}};return e[l].call(t.exports,t,t.exports,a),t.exports}a.m=e,function(){var e=[];a.O=function(n,l,s,t){if(!l){var o=1/0;for(c=0;c<e.length;c++){l=e[c][0],s=e[c][1],t=e[c][2];for(var i=!0,r=0;r<l.length;r++)(!1&t||o>=t)&&Object.keys(a.O).every((function(e){return a.O[e](l[r])}))?l.splice(r--,1):(i=!1,t<o&&(o=t));if(i){e.splice(c--,1);var u=s();void 0!==u&&(n=u)}}return n}t=t||0;for(var c=e.length;c>0&&e[c-1][2]>t;c--)e[c]=e[c-1];e[c]=[l,s,t]}}(),function(){a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,{a:n}),n}}(),function(){a.d=function(e,n){for(var l in n)a.o(n,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:n[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};a.O.j=function(n){return 0===e[n]};var n=function(n,l){var s,t,o=l[0],i=l[1],r=l[2],u=0;if(o.some((function(n){return 0!==e[n]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(r)var c=r(a)}for(n&&n(l);u<o.length;u++)t=o[u],a.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return a.O(c)},l=self["webpackChunkqiankun"]=self["webpackChunkqiankun"]||[];l.forEach(n.bind(null,0)),l.push=n.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(7836)}));l=a.O(l)})();
//# sourceMappingURL=app.f20f5e2b.js.map